"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _lodash = _interopRequireDefault(require("lodash"));

var _Text = _interopRequireDefault(require("../helper/Text"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _default = function _default(markdown, error) {
  var ast = error.ast;
  var position = ast.node.position;
  var start = position.start;
  var line = start.line;
  var text = new _Text["default"](markdown); // 当前行

  var lineText = text.getLine(line); // 获得 > 之后的文本

  lineText = lineText.substring(lineText.indexOf('>') + 1); // 拼接文本

  lineText = "> ".concat(_lodash["default"].trim(lineText));
  return text.removeLine(line) // 删除
  .insertLines(line - 1, lineText) // 插入
  .result();
};

exports["default"] = _default;